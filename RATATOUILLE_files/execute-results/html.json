{
  "hash": "bd0841c03722c3e4301d6be3063c1924",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Strings & Regular Expressions\"\nsidebar: false\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n\n### Ratatouille\n\nDid you know that in the Ratatouille movie, only 7,526 words were spoken? According to a Reddit [post](https://www.reddit.com/r/Screenwriting/comments/od3v7h/wordcounts_of_famous_screenplays/), the average screenplay has about 22,000 words (although Reddit is definitely not the most reliable source so this may not be totally accurate). Within those 7,526 words in Ratatouille, there were 2,193 distinct words spoken. This may seem like very few, but any Ratatouille lover knows how impactful those 2,193 different words were.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/movie_sentiment_analysis-1.png){width=672}\n:::\n:::\n\n\nThe above graph is a sentiment analysis of all of the words in Ratatouille. To find this, I used a sentiment library that ranks common words on a scale of -3 to 3, respectively negative to positive sentiment. I inner joined that dataset with my dataset of Ratatouille words to find their sentiments. We can see that a little over half of the Ratatouille words have positive connotations. This makes sense since it is overall a happy movie, although there is a lot of yelling from the head chef which would contribute to the good chunk of negativity. This graph has the words in order of appearance, so the left is the beginning of the movie, and as the movie progresses, we move to the right. We can see areas where the movie was more positive, and also areas that were more negative.\n\nBelow we see a table with the 10 most used words in Ratatouille. To do this, I removed the stop words (common words that generally don't hold significance like \"the\") from the data and I ranked the leftover words by amount used. Unsurprisingly, we see that 3 of the words have to do with food, as it is a food movie. We also see that names/nicknames come up a lot, with Remy, Gusteau, Linguini and dad all making appearances. Rat is also fairly expected since the whole plot of the movie is about a rat. Somewhat surprising, however, is the word hey. I would think that it would be considered a stop word, however the set of stop words I used did not include it.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> word </td>\n   <td style=\"text-align:left;\"> chef </td>\n   <td style=\"text-align:left;\"> gusteau </td>\n   <td style=\"text-align:left;\"> rat </td>\n   <td style=\"text-align:left;\"> cook </td>\n   <td style=\"text-align:left;\"> dad </td>\n   <td style=\"text-align:left;\"> food </td>\n   <td style=\"text-align:left;\"> hey </td>\n   <td style=\"text-align:left;\"> linguini </td>\n   <td style=\"text-align:left;\"> remy </td>\n   <td style=\"text-align:left;\"> wait </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> n </td>\n   <td style=\"text-align:left;\"> 55 </td>\n   <td style=\"text-align:left;\"> 40 </td>\n   <td style=\"text-align:left;\"> 33 </td>\n   <td style=\"text-align:left;\"> 28 </td>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> 26 </td>\n   <td style=\"text-align:left;\"> 23 </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:left;\"> 21 </td>\n   <td style=\"text-align:left;\"> 18 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nWhile seeing these words is nice to get a taste for what the most used words are, it is also nice to have a more visual representation. Below is a word cloud containing the top 100 used words from the move. The bigger the word, the more it was used. By using a diagram like this, we can more easily see which words are the most commonly found, and the color codings show up what other words were used a similar amount of times.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/wordcloud-1.png){width=672}\n:::\n:::\n\n\nNow that we know which words were used the most in Ratatouille, we can look into where in the movie these words show up. For the next graph, I looked into the top 5 words and where they are positioned in comparison to all other words in the movie. We can see that \"dad\" was used mostly in 3 separate areas of the movie, whereas \"chef\" was used pretty regularly throughout.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/word_occurrences-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nAnyone who has watched Ratatouille surely understands that it is a masterpiece, but what do people really think about the film? To find this out, we can look to the master site of movie reviews, Rotten Tomatoes. On Rotten Tomatoes, Ratatouille scores a 96% on the Tomatometer (critic reviews) and an 87% for audience ratings. It is clear that the critics are the true experts in what makes a good movie! The graph below shows a sentiment analysis of words from all reviews (critic and audience).\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/sentiment_review-1.png){width=672}\n:::\n:::\n\n\nWe say that Ratatouille has, by far, had a positive impact on watchers. However, it leaves one to wonder what some of the negative reviews had to say about the movie. The negatively connotated words in these reviews are \"cry\", \"bored\", \"hard\", \"struggling\", \"critic\", and \"leave\". Many of these words are not inherently negative, and would depend on the context.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> word </th>\n   <th style=\"text-align:left;\"> reviews </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cry </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant &lt;critic&gt; anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we leave hoping for seconds. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> bored </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant critic anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we &lt;leave&gt; hoping for seconds. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> hard </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant &lt;critic&gt; anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we leave hoping for seconds. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> struggling </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant critic anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we &lt;leave&gt; hoping for seconds. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> critic </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant &lt;critic&gt; anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we leave hoping for seconds. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> leave </td>\n   <td style=\"text-align:left;\"> like the snooty restaurant critic anton ego (voiced by peter o'toole), we enter ratatouille thinking we've tasted it all, and we &lt;leave&gt; hoping for seconds. </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nAs we can see, none of these words that are considered to have negative connotations are actually being used in a negative sense. On the contrary, they are actually all part of very positive reviews about the movie.\n\nNow that we know quite a bit about the contents of Ratatouille, we can look at how some of its statistics compared to other Disney Movies. I know that for a lot of people, time is valuable, so I wanted to see which movies are conserving your time and which are taking more of it. For the first comparison, I found a [dataset](https://github.com/KeithGalli/disney-data-science-tasks/blob/master/dataset/disney_movie_data_final.csv) of many Disney movies and looked at the lengths of the movies.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/disney_movie_lengths-1.png){width=672}\n:::\n:::\n\n\nWe can see that Ratatouille is just slightly over the average running time, with 111 minutes. The mean running time for the Disney movies in my dataset is 97.51009, with a standard deviation of 18.11338. This means the Ratatouille is within one standard deviation of the mean and is pretty average as far as movie length.\n\nOne part of Ratatouille that may be less average is its box office statistics. Ratatouille was, and continues to be, very popular, so unsurprisingly it did very well and has a very high box office score of 620.7 million dollars.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/disney_box_office-1.png){width=672}\n:::\n:::\n\n\nThe average box office for the Disney movies is \\$169.8 million, however there is a \\$277.4 million standard deviation, so there is definitely a very wide range. Nonetheless, Ratatouille is still very high on the list and did very well for a Disney movie.\n\nI was also interested in looking into how the box office scores of Disney movies compared with those of a different company's movies. I found a [dataset](https://the-numbers.com/box-office-records/domestic/all-movies/theatrical-distributors/warner-bros/901) of Warner Bros. movies and their box scores to look into the difference between their means.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nWe can see that Warner Bros has more lower revenue movies, while Disney seems to have more higher revenue films. Because we cannot make definite conclusions from this graph, I performed a two-sample t-test to determine if there is a significant difference in the mean box office earnings of Disney movies and Warner Bros. movies.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWelch Two Sample t-test\n\ndata:  disney_movies$`Box office (float)` and warner_bros_movies$`Worldwide\\nBox Office`\nt = 3.6751, df = 462.46, p-value = 0.0002656\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n 27441671 90514195\nsample estimates:\nmean of x mean of y \n169826342 110848408 \n```\n\n\n:::\n:::\n\n\nWe can see that the results of this t-test find a significant difference in the means, with a p-value in the ten-thousandths. It shows much higher average box office earnings for the Disney movies than the Warner Bros movies, however there are several factors that could be affecting this. Firstly, my dataset for Warner Bros movies is much larger, meaning that it probably includes many smaller films that may have been small outliers and dragged the means down. Furthermore, I also got my dataset for the Disney movies from Kieth Galli's github and do not have information about how the films were chosen because it is not comprehensive of all Disney movies. One thing that could help find a more accurate result by making the datasets the same size and using the Warner Bros films that have the largest box office earnings.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWelch Two Sample t-test\n\ndata:  disney_movies$`Box office (float)` and new_warner$`Worldwide\\nBox Office`\nt = -4.8361, df = 672.97, p-value = 1.643e-06\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -132475481  -55966022\nsample estimates:\nmean of x mean of y \n169826342 264047093 \n```\n\n\n:::\n:::\n\n\nComparing the Disney movies to only the top Warner Bros movies just shows a larger gap, meaning that in reality, Disney movies have had much higher box office earnings and we can reject the null hypothesis and claim a statistical significance between the means. Yay Disney!\n\nAfter seeing how successful these Disney movies were, we can see if there is any correlation between the amount spent on the movie and how well it did. To do this, I made a scatterplot looking at the relationship between budget and box office earnings.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](RATATOUILLE_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nWe can see a positive relationship, meaning that the movies with higher budgets tended to do better when they were released. The light pink and slightly larger point represents Ratatouille, so we can see that Ratatouille was very close to the regression line and was following the trend pretty closely.\n\nKnowing this, I was curious to see what the profits of movies looked like. I made a new variable that subtracted the budgets from the box office earnings to find the profit. I then put the 30 top movies by profit in a table.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> title </th>\n   <th style=\"text-align:right;\"> Box office (millions) </th>\n   <th style=\"text-align:right;\"> Budget (millions) </th>\n   <th style=\"text-align:right;\"> Profit (millions) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> The Lion King </td>\n   <td style=\"text-align:right;\"> 1657.0 </td>\n   <td style=\"text-align:right;\"> 250.0 </td>\n   <td style=\"text-align:right;\"> 1407.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Frozen II </td>\n   <td style=\"text-align:right;\"> 1450.0 </td>\n   <td style=\"text-align:right;\"> 150.0 </td>\n   <td style=\"text-align:right;\"> 1300.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Frozen </td>\n   <td style=\"text-align:right;\"> 1280.0 </td>\n   <td style=\"text-align:right;\"> 150.0 </td>\n   <td style=\"text-align:right;\"> 1130.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Beauty and the Beast </td>\n   <td style=\"text-align:right;\"> 1264.0 </td>\n   <td style=\"text-align:right;\"> 160.0 </td>\n   <td style=\"text-align:right;\"> 1104.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Incredibles 2 </td>\n   <td style=\"text-align:right;\"> 1243.0 </td>\n   <td style=\"text-align:right;\"> 200.0 </td>\n   <td style=\"text-align:right;\"> 1043.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> The Lion King </td>\n   <td style=\"text-align:right;\"> 968.5 </td>\n   <td style=\"text-align:right;\"> 45.0 </td>\n   <td style=\"text-align:right;\"> 923.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Zootopia </td>\n   <td style=\"text-align:right;\"> 1024.0 </td>\n   <td style=\"text-align:right;\"> 150.0 </td>\n   <td style=\"text-align:right;\"> 874.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Toy Story 4 </td>\n   <td style=\"text-align:right;\"> 1073.0 </td>\n   <td style=\"text-align:right;\"> 200.0 </td>\n   <td style=\"text-align:right;\"> 873.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Toy Story 3 </td>\n   <td style=\"text-align:right;\"> 1067.0 </td>\n   <td style=\"text-align:right;\"> 200.0 </td>\n   <td style=\"text-align:right;\"> 867.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Finding Dory </td>\n   <td style=\"text-align:right;\"> 1029.0 </td>\n   <td style=\"text-align:right;\"> 175.0 </td>\n   <td style=\"text-align:right;\"> 854.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Finding Nemo </td>\n   <td style=\"text-align:right;\"> 940.3 </td>\n   <td style=\"text-align:right;\"> 94.0 </td>\n   <td style=\"text-align:right;\"> 846.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pirates of the Caribbean: Dead Man's Chest </td>\n   <td style=\"text-align:right;\"> 1066.0 </td>\n   <td style=\"text-align:right;\"> 225.0 </td>\n   <td style=\"text-align:right;\"> 841.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Alice in Wonderland </td>\n   <td style=\"text-align:right;\"> 1025.0 </td>\n   <td style=\"text-align:right;\"> 200.0 </td>\n   <td style=\"text-align:right;\"> 825.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> The Jungle Book </td>\n   <td style=\"text-align:right;\"> 966.6 </td>\n   <td style=\"text-align:right;\"> 175.0 </td>\n   <td style=\"text-align:right;\"> 791.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Inside Out </td>\n   <td style=\"text-align:right;\"> 858.0 </td>\n   <td style=\"text-align:right;\"> 175.0 </td>\n   <td style=\"text-align:right;\"> 683.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pirates of the Caribbean: At World's End </td>\n   <td style=\"text-align:right;\"> 961.0 </td>\n   <td style=\"text-align:right;\"> 300.0 </td>\n   <td style=\"text-align:right;\"> 661.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pirates of the Caribbean: On Stranger Tides </td>\n   <td style=\"text-align:right;\"> 1046.0 </td>\n   <td style=\"text-align:right;\"> 410.6 </td>\n   <td style=\"text-align:right;\"> 635.4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Coco </td>\n   <td style=\"text-align:right;\"> 807.1 </td>\n   <td style=\"text-align:right;\"> 175.0 </td>\n   <td style=\"text-align:right;\"> 632.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Maleficent </td>\n   <td style=\"text-align:right;\"> 758.5 </td>\n   <td style=\"text-align:right;\"> 180.0 </td>\n   <td style=\"text-align:right;\"> 578.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> The Chronicles of Narnia: The Lion, the Witch and the Wardrobe </td>\n   <td style=\"text-align:right;\"> 745.0 </td>\n   <td style=\"text-align:right;\"> 180.0 </td>\n   <td style=\"text-align:right;\"> 565.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pirates of the Caribbean: Dead Men Tell No Tales </td>\n   <td style=\"text-align:right;\"> 794.9 </td>\n   <td style=\"text-align:right;\"> 230.0 </td>\n   <td style=\"text-align:right;\"> 564.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Up </td>\n   <td style=\"text-align:right;\"> 735.1 </td>\n   <td style=\"text-align:right;\"> 175.0 </td>\n   <td style=\"text-align:right;\"> 560.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Monsters University </td>\n   <td style=\"text-align:right;\"> 743.6 </td>\n   <td style=\"text-align:right;\"> 200.0 </td>\n   <td style=\"text-align:right;\"> 543.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> The Incredibles </td>\n   <td style=\"text-align:right;\"> 633.0 </td>\n   <td style=\"text-align:right;\"> 92.0 </td>\n   <td style=\"text-align:right;\"> 541.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Moana </td>\n   <td style=\"text-align:right;\"> 690.8 </td>\n   <td style=\"text-align:right;\"> 150.0 </td>\n   <td style=\"text-align:right;\"> 540.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pirates of the Caribbean: The Curse of the Black Pearl </td>\n   <td style=\"text-align:right;\"> 654.3 </td>\n   <td style=\"text-align:right;\"> 140.0 </td>\n   <td style=\"text-align:right;\"> 514.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Big Hero 6 </td>\n   <td style=\"text-align:right;\"> 657.8 </td>\n   <td style=\"text-align:right;\"> 165.0 </td>\n   <td style=\"text-align:right;\"> 492.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Aladdin </td>\n   <td style=\"text-align:right;\"> 504.1 </td>\n   <td style=\"text-align:right;\"> 28.0 </td>\n   <td style=\"text-align:right;\"> 476.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ratatouille </td>\n   <td style=\"text-align:right;\"> 620.7 </td>\n   <td style=\"text-align:right;\"> 150.0 </td>\n   <td style=\"text-align:right;\"> 470.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Monsters, Inc. </td>\n   <td style=\"text-align:right;\"> 577.4 </td>\n   <td style=\"text-align:right;\"> 115.0 </td>\n   <td style=\"text-align:right;\"> 462.4 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nIn this table, Ratatouille takes 29th place as most profitable. Considering this is a dataset of 347 movies, that is quite impressive. It is also worth noting the \\$470.7 million profit -- the masterminds behind Ratatouille must be living well.\n\nI hope you have enjoyed coming on this data journey with me, and I hope you learned something new (or many new things) about Ratatouille. Now that you have made it to the end, I think that you, dear reader, should have a seat, grab a snack, relax, and enjoy a wonderful screening of Ratatouille!\n",
    "supporting": [
      "RATATOUILLE_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}