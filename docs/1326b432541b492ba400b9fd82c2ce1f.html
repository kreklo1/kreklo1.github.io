<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mary Kreklow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Mary Kreklow</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./FinalProject.html"> 
<span class="menu-text">MSCS 164</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-mscs-264" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">MSCS 264</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-mscs-264">    
        <li>
    <a class="dropdown-item" href="./us_states.html">
 <span class="dropdown-text">US States</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./wi_gerrymandering.html">
 <span class="dropdown-text">Wisconsin Gerrymandering</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./rtip.html">
 <span class="dropdown-text">R Tip of the Day</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mini_project2.html">
 <span class="dropdown-text">Simulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./RATATOUILLE.html">
 <span class="dropdown-text">Strings &amp; Regular Expressions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./SDS272.html"> 
<span class="menu-text">SDS 272</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<blockquote class="blockquote">
<p>ADM first challenge - Final Report<br>
This is a kind, inclusive, brave and failure-tolerant class Meghan Walsh, Maya Ballard, Sierra Bouchard, Mary Kreklow 9/24/2024<br>
<strong>Auxiliary functions</strong><br>
<strong>Function Definitions</strong><br>
plot_digit: Converts a row to a vector, to a matrix, allows us to visualize the specific digit plot_region: Converts a tbl into a matrix, and allows us to visualize the region<br>
calc_prop: Calculates the proportion of dark pixels within the region</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>plot_region &lt;- <strong>function</strong>(tbl) {<br>
digit_mat &lt;- <strong>as.matrix</strong>(tbl)<strong>*</strong>128 <em># Convert tbl into matrix and assign gray=128</em></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th>}</th>
<th><blockquote class="blockquote">
<p><strong>image</strong>( <strong>t</strong>(digit_mat)[,28<strong>:</strong>1]) <em>#Plot the image making sure is rotated</em></p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>calc_prop &lt;- <strong>function</strong> (region, row) {<br>
<em># Take row from mnist and transform into a “digit” matrix</em><br>
digit_mat &lt;-row <strong>|&gt;</strong><br>
<strong>as.numeric</strong>()<strong>|&gt;</strong><br>
<strong>matrix</strong>(nrow = 28) <strong>|&gt;</strong><br>
<strong>t</strong>()<br>
<em># Find positions of pixels from “region”</em><br>
pos = (region<strong>==</strong>1)<br>
<em># Subset “digit” to the positions and count dark pixels (grey&gt;20)</em> dark = digit_mat[pos]<strong>&gt;</strong>20<br>
<em># Return proportion of dark pixels of “image” in “region”</em><br>
<strong>return</strong>(<strong>sum</strong>(dark)<strong>/sum</strong>(pos))<br>
}</p>
</blockquote></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Region description</strong><br>
For our first region, we drew two “less than” signs, trying to mimic the number three, hoping that the curves would help differentiate between the numbers. The second design for region two required some trial and error, we ended up making two vertical lines with space in the middle where a three normally go.</p>
<p><strong>Image dataset</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>mnis t1_3_tbl&lt;-<strong>read_csv</strong>(“~/Mscs_341_F24/Class/Data/mnist.csv.gz”) <strong>|&gt;</strong> <strong>filter</strong>(digit<strong>==</strong>1<strong>|</strong>digit<strong>==</strong>3)<strong>|&gt;</strong></p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>1</p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>mutate</strong>(digit=<strong>as.factor</strong>(digit)) <strong>|&gt;</strong><br>
<strong>slice_head</strong>(n=1000)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>plot_digit</strong>(mnist1_3_tbl[7,])</p>
</blockquote></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>1.0 0.8 0.6 0.4 0.2 0.0</p>
</blockquote></td>
<td><hr>
<hr>
<ul>
<li><hr></li>
<li><hr></li>
</ul></td>
</tr>
</tbody>
</table>
<table class="table">
<tbody>
<tr class="odd">
<td style="text-align: left;">0.0 0.2 0.4 0.6 0.8 1.0</td>
</tr>
</tbody>
</table>
<hr>
<blockquote class="blockquote">
<p><strong>Code Description</strong></p>
<p>The above chunk of code filters the digits our group was assigned (1 and 3). The mutate function converts it into a factor, which allows us to plot it. We plotted the 7th digit in the set using the plot digit function to create a visualization of our assigned digit of 1.</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>region1 &lt;- <strong>read_csv</strong>(“~/Mscs_341_F24/Project/B_1/region1.csv”, col_names = FALSE) region2 &lt;- <strong>read_csv</strong>(“~/Mscs_341_F24/Project/B_1/region2.csv”, col_names = FALSE)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 47%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>p lot_reg ion</strong>(r egion1)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>1.0 0.8 0.6 0.4 0.2 0.0</p>
</blockquote></td>
<td><hr>
<hr>
<hr>
<hr>
<hr>
<hr></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>0.0</td>
<td></td>
<td>0.2</td>
<td>0.4</td>
<td>0.6</td>
<td>0.8</td>
<td><blockquote class="blockquote">
<p>1.0</p>
</blockquote></td>
</tr>
</tbody>
</table>
<p>2</p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>calc_prop</strong>(region1, mnist1_3_tbl[1,2<strong>:</strong>785])</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>## [1] 0.3559322</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>calc_prop</strong>(region1, mnist1_3_tbl[3,2<strong>:</strong>785])</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>## [1] 0.7457627</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 63%">
<col style="width: 17%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>(tmp_tbl &lt;- m nist1_3_tbl<strong>|&gt;</strong><br>
rowwise<strong>()</strong>|&gt;<strong><br>
</strong> mutate<strong>(area=</strong>calc_ prop<strong>(region1,</strong>c_ac ross<strong>(V1</strong>:<strong>V784)))</strong> |&gt;</p>
<p>ungroup<strong>()</strong>|&gt;<strong><br>
</strong> select**(digit,area))</p>
</blockquote></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 1,000 x 2</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>##</td>
<td>digit</td>
<td><blockquote class="blockquote">
<p>area</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>&lt;fct&gt; &lt;dbl&gt;</p>
</blockquote></td>
<td></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>1 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.356</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>## ##</td>
<td><blockquote class="blockquote">
<p>2 1<br>
3 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.407<br>
0.746</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>4 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.254</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>5 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.593</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>6 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.712</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>7 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.254</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>8 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.356</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>9 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.322</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 10 3</p>
</blockquote></td>
<td></td>
<td><blockquote class="blockquote">
<p>0.831</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # i 990 more rows</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 10%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>tmp_tbl<strong>|&gt;</strong><br>
<strong>ggpl ot</strong>(<strong>aes</strong>(x=digit, y=area))<strong>+</strong><br>
<strong>geom_boxplot</strong>()</p>
</blockquote></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>area</td>
<td>0.75</td>
<td><p>0</p>
<p>5<img src="vert opal_1326b432541b492b a400b9fd82c2ce1f/medi a/image1.png" class="img-fluid">{width=” 1.7777777777777777in” height=“1 .2222222222222223in”}</p>
<p>5</p>
<blockquote class="blockquote">
<p>1 3</p>
<p>digit</p>
</blockquote></td>
</tr>
<tr class="even">
<td></td>
<td>0.50</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>0.25</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Code Description</strong></p>
<p>This chunk of code accomplishes several items. First, we plotted our first region. The we calculated the proportion of pixels in our data set that overlapped with the region. We found that the 3 digits overlapped with this region about 75% of the time compared to the ones which overlapped 36% of the time. We then plotted the proportion of 1s and 3s for each regions using box plots.</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>plot_region</strong>(region2)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>3</p>
<table class="table">
<colgroup>
<col style="width: 32%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>1.0 0.8 0.6 0.4 0.2 0.0</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Feature dataset</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>features_tbl &lt;- mnist1_3_tbl<strong>|&gt;</strong><br>
<strong>rowwise</strong>()<strong>|&gt;</strong><br>
<strong>mutate</strong>(<br>
prop1 = <strong>calc_prop</strong>(region1,<strong>c_across</strong>(V1<strong>:</strong>V784)), prop2 = <strong>calc_prop</strong>(region2,<strong>c_across</strong>(V1<strong>:</strong>V784))) <strong>|&gt;</strong> <strong>ungroup</strong>()<strong>|&gt;</strong><br>
<strong>mutate</strong>(id = <strong>row_number</strong>())<strong>%&gt;%</strong><br>
<strong>select</strong>(id, digit,prop1, prop2)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>write_csv</strong>(features_tbl, “~/Mscs_341_F24/Project/B_1/mnist1_3.features.csv”)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Code Description</strong><br>
In this chunk we created a tibble with 4 variables: the id, digit, prop 1, and prop 2. Prop1 calculated the proportion of each digit overlap with region one. The same process took place with prop 2, this time with our second region. We then saved the data set.</p>
<p><strong>Initial plotting</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>ggplot</strong>(features_tbl, <strong>aes</strong>(x=prop1, y=prop2, group = digit, color = <strong>as.factor</strong>(digit)))<strong>+</strong> <strong>geom_point</strong>()<strong>+</strong><br>
<strong>labs</strong>(title = “Prop 1 vs.&nbsp;Prop 2”,<br>
x = “Proportion 1”,<br>
y = “Proportion 2”,<br>
color = “Digit”)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>5</p>
<blockquote class="blockquote">
<p>Prop 1 vs.&nbsp;Prop 2</p>
</blockquote>
<table class="table">
<thead>
<tr class="header">
<th>Pro portion 2</th>
<th>1.00</th>
<th><blockquote class="blockquote">
<p><img src="ver topal_1 326b432 541b492 ba400b9 fd82c2c e1f/med ia/imag e2.png" class="img-fluid"> {width= “5.2083 3333333 3333in” he ight=“3 .777777 7777777 777in”}</p>
</blockquote></th>
<th></th>
<th></th>
<th>Digit</th>
<th><blockquote class="blockquote">
<p>1</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>0.75</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>0.50</td>
<td></td>
<td></td>
<td></td>
<td>! <a href="vert opal_13 26b4325 41b492b a400b9f d82c2ce 1f/medi a/image 3.png"></a>{ width=” 0.25in” he ight=“0 .486111 1111111 111in”}</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>0.25</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>3</p>
</blockquote></td>
</tr>
<tr class="even">
<td></td>
<td>0.00</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>0.25</td>
<td><blockquote class="blockquote">
<p>0.50<br>
Pro portion 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.75</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>It looks like the ones are very distinguishable and the threes are also pretty good, although there are a few threes that are in with the ones more and have high prop 2/low prop 1 values.</p>
<p><strong>Training/Testing Split</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>set.seed</strong>(12345)<br>
feature_split&lt;- <strong>initial_split</strong>(features_tbl, prop = 0.8) feature_train &lt;- <strong>training</strong>(feature_split)<br>
feature_test &lt;- <strong>testing</strong>(feature_split)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>Split our data into testing and training dataset, with a proportion of 80% in our training and 20% in our testing.</p>
<p><strong>Model creation, optimization and selection - Model 1</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>knn_model&lt;- <strong>nearest_neighbor</strong>(neighbors = <strong>tune</strong>())<strong>%&gt;%</strong><br>
<strong>set_mode</strong>(“classification”)<strong>%&gt;%</strong><br>
<strong>set_engine</strong>(“kknn”)<br>
recipe&lt;- <strong>recipe</strong>(digit <strong>~</strong> prop1 <strong>+</strong> prop2, data = feature_train) workflow&lt;- <strong>workflow</strong>()<strong>%&gt;%</strong><br>
<strong>add_recipe</strong>(recipe)<strong>%&gt;%</strong><br>
<strong>add_model</strong>(knn_model)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>6</p>
<p><img src="vertopal_1326b432541b492ba400b9fd82c2ce1f/media/image4.png" style="width:5.90278in;height:1.31944in"><img src="vertopal_1326b432541b492ba400b9fd82c2ce1f/media/image5.png" style="width:5.90278in;height:1.29167in"><img src="vertopal_1326b432541b492ba400b9fd82c2ce1f/media/image6.png" style="width:5.90278in;height:1.29167in"></p>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>library</strong>(dials)<br>
<strong>set.seed</strong>(12345)<br>
feature_fold &lt;- <strong>vfold_cv</strong>(feature_train, v = 5)<br>
neighbors_tbl&lt;- <strong>grid_regular</strong>(<strong>neighbors</strong>(range = <strong>c</strong>(1,50)), levels = 50)</p>
<p><strong>autoplot</strong>(tune_neighbor)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>tune_neighbor&lt;- <strong>tune_grid</strong>(object = workflow, resamples = feature_fold, grid = neighbors_tbl)</p>
<p>accuracy</p>
<blockquote class="blockquote">
<p>0.90<br>
0.89<br>
0.88<br>
0.87</p>
</blockquote>
<p>brier_class</p>
<blockquote class="blockquote">
<p>0.12</p>
<p>0.10</p>
<p>0.08</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 48%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>0.96</p>
</blockquote></th>
<th>roc_auc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>0.94<br>
0.92<br>
0.90<br>
0.88</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 31%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>0</th>
<th>10</th>
<th><blockquote class="blockquote">
<p>20 30</p>
<p># Nearest Neighbors</p>
</blockquote></th>
<th>40</th>
<th>50</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>show_best</strong>(tune_neighbor, metric = “accuracy”)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>## # A tibble: 5 x 7<br>
## neighbors .metric .estimator ## &lt;int&gt; &lt;chr&gt; &lt;chr&gt;<br>
## 1<br>
17 accuracy binary ## 2 18 accuracy binary<br>
## 3 50 accuracy binary<br>
## 4 32 accuracy binary<br>
## 5 33 accuracy binary</p>
<p>mean n std_err .config</p>
<p>&lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;</p>
<p>0.906 5 0.0110 Preprocessor1_Model17</p>
<p>0.906 5 0.0133 Preprocessor1_Model18</p>
<p>0.906 5 0.0123 Preprocessor1_Model50</p>
<p>0.905 5 0.0132 Preprocessor1_Model32</p>
<p>0.905 5 0.0132 Preprocessor1_Model33</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 68%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>(best_neighbor&lt;- <strong>select_best</strong>(tune_neighbor, metric = “accuracy”))</p>
</blockquote></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 1 x 2</p>
</blockquote></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>neighbors .config</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;int&gt; &lt;chr&gt;</p>
</blockquote></td>
</tr>
<tr class="even">
<td>## 1</td>
<td><blockquote class="blockquote">
<p>17 Preprocessor1_Model17</p>
</blockquote></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>final_workflow &lt;- <strong>finalize_workflow</strong>(workflow, best_neighbor) final_fit &lt;- <strong>fit</strong>(final_workflow, feature_train)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>7</p>
<table class="table">
<colgroup>
<col style="width: 48%">
<col style="width: 14%">
<col style="width: 21%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>augme nt</strong>(final_fit, feature _test)<strong>%&gt;%</strong><br>
<strong>a ccuracy</strong>(truth = digit, estimate = .pred_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 1 x 3</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>.metric</td>
<td><blockquote class="blockquote">
<p>.estimator .estimate</p>
</blockquote></td>
<td></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;dbl&gt;</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 1 accuracy binary</p>
</blockquote></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>0.92</p>
</blockquote></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Model 2</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 54%">
<col style="width: 12%">
<col style="width: 18%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>log istical_spec&lt;- <strong>logistic_r eg</strong>()<strong>%&gt;%</strong><br>
<strong>set_engine</strong>(” glm”)<strong>%&gt;%</strong><br>
<strong>s et_mode</strong>(“cla ssification”)<br>
</p>
<p>workflow_log&lt;- <strong>workfl ow</strong>()<strong>%&gt;%</strong><br>
add_recipe<strong>(r ecipe)</strong>%&gt;%<strong><br>
add_model</strong>(lo gistical_spec)<br>
</p>
<p>logistical_fit &lt;- **fit(workflow_log,</p>
<p>feature_train) <strong>augment</strong>( logistical_fit, feature _test)<strong>%&gt;%</strong><br>
<strong>ac curacy</strong>(digit, .pred_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 1 x 3</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>.metric</td>
<td><blockquote class="blockquote">
<p>.estimator .estimate</p>
</blockquote></td>
<td></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;dbl&gt;</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 1 accuracy binary</p>
</blockquote></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>0.93</p>
</blockquote></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 52%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>augment</strong>( logistical_fit, feature _test)<strong>%&gt;%</strong><br>
<strong>co nf_mat</strong>(digit, .pred_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>Truth</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## Prediction</p>
</blockquote></td>
<td></td>
<td>1</td>
<td><blockquote class="blockquote">
<p>3</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>1 107</td>
<td></td>
<td><blockquote class="blockquote">
<p>8</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>3</td>
<td>6</td>
<td><blockquote class="blockquote">
<p>79</p>
</blockquote></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Code description</strong></p>
<p>In the past two chunks we created our knn model and our multinomial logistical regression model. In the knn model we used cross validation to optimize our k value or our number of neighbors we used. We found that this model had a 92% accuracy. For the multinomial logistic regression model, we got a 93% accuracy, which was slightly better than our knn model. Thus we created a confusion matrix for this model.</p>
<p><strong>Decision boundary</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>prop_grid&lt;- <strong>expand_grid</strong>(prop1 = <strong>seq</strong>(0,1,.01), prop2 = <strong>seq</strong>(0,1,.01)) <strong>augment</strong>(logistical_fit, prop_grid)<strong>%&gt;%</strong><br>
<strong>ggplot</strong>(<strong>aes</strong>(x = prop1, y = prop2, fill = .pred_class))<strong>+</strong><br>
<strong>geom_raster</strong>()<strong>+</strong><br>
<strong>geom_point</strong>(<strong>aes</strong>(x = .458, y = .444))<strong>+</strong><br>
<strong>geom_point</strong>(<strong>aes</strong>(x = .356, y = .556))</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>8</p>
<p><img src="vertopal_1326b432541b492ba400b9fd82c2ce1f/media/image8.png" style="width:4.33611in;height:4.33611in"><img src="vertopal_1326b432541b492ba400b9fd82c2ce1f/media/image9.png" style="width:4.81944in;height:4.02778in"></p>
<blockquote class="blockquote">
<p>1.00</p>
<p>0.75</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 72%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>prop2</th>
<th><blockquote class="blockquote">
<p>0.50</p>
</blockquote></th>
<th>.pred_class</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td><img src="vertopal_1326 b432541b492ba40 0b9fd82c2ce1f/m edia/image7.png"></td>
<td><blockquote class="blockquote">
<p>1<br>
3</p>
</blockquote></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>0.25</p>
<p>0.00</p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>0.00</th>
<th>0.25</th>
<th><blockquote class="blockquote">
<p>0.50<br>
prop1</p>
</blockquote></th>
<th>0.75</th>
<th>1.00</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><em>#we plotted the two misclassifications we were looking at so we could see them better.</em></p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Code description</strong></p>
</blockquote>
<p>In this chunk we plotted our logistical fit, our more accurate model, predictions across a grid in prop1 and</p>
<blockquote class="blockquote">
<p>prop2 using geom_raster().</p>
<p><strong>Misclassifications</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 17%">
<col style="width: 5%">
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>augment</strong> (logist ical_fit, feat ure_test) <strong>%&gt;%</strong><br>
<strong>filte r</strong>(digit <strong>!=</strong> .pr ed_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 14 x 7</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>.p red_class .pred_1 .pred_3</p>
</blockquote></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>id digit prop1 prop2</p>
</blockquote></td>
<td></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>&lt;fct&gt;</p>
</blockquote></td>
<td>&lt;dbl&gt;</td>
<td><blockquote class="blockquote">
<p>&lt;dbl&gt; &lt;int&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt;</p>
</blockquote></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>1 3</p>
</blockquote></td>
<td>0.383</td>
<td><blockquote class="blockquote">
<p>0.617</p>
</blockquote></td>
<td>22 1</td>
<td><blockquote class="blockquote">
<p>0.458 0.444</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>2 1</p>
</blockquote></td>
<td>0.726</td>
<td><blockquote class="blockquote">
<p>0.274</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>221 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.407 0.556</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>3 1</p>
</blockquote></td>
<td>0.553</td>
<td><blockquote class="blockquote">
<p>0.447</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>236 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.424 0.444</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>## ##</td>
<td><blockquote class="blockquote">
<p>4 1<br>
5 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.969<br>
0.154</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.0306 0.846</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>237 3 288 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.305 0.667<br>
0.559 0.667</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>6 1</p>
</blockquote></td>
<td>0.789</td>
<td><blockquote class="blockquote">
<p>0.211</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>402 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.390 0.556</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>7 1</p>
</blockquote></td>
<td>0.830</td>
<td><blockquote class="blockquote">
<p>0.170</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>501 3</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.356 0.444</p>
</blockquote></td>
</tr>
<tr class="even">
<td>##</td>
<td><blockquote class="blockquote">
<p>8 3</p>
</blockquote></td>
<td>0.306</td>
<td><blockquote class="blockquote">
<p>0.694</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>693 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.475 0.444</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>##</td>
<td><blockquote class="blockquote">
<p>9 3</p>
</blockquote></td>
<td>0.401</td>
<td><blockquote class="blockquote">
<p>0.599</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>762 1</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>0.475 0.556</p>
</blockquote></td>
</tr>
</tbody>
</table>
<p>9</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>## 10 1</p>
</blockquote></th>
<th>0.553</th>
<th><blockquote class="blockquote">
<p>0.447</p>
</blockquote></th>
<th>808 3</th>
<th><blockquote class="blockquote">
<p>0.424 0.444</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## 11 3</p>
</blockquote></td>
<td>0.122</td>
<td><blockquote class="blockquote">
<p>0.878</p>
</blockquote></td>
<td>850 1</td>
<td><blockquote class="blockquote">
<p>0.593 0.778</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 12 1</p>
</blockquote></td>
<td>0.808</td>
<td><blockquote class="blockquote">
<p>0.192</p>
</blockquote></td>
<td>870 3</td>
<td><blockquote class="blockquote">
<p>0.322 0.222</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## 13 3</p>
</blockquote></td>
<td>0.467</td>
<td><blockquote class="blockquote">
<p>0.533</p>
</blockquote></td>
<td>940 1</td>
<td><blockquote class="blockquote">
<p>0.441 0.444</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 14 1</p>
</blockquote></td>
<td>0.881</td>
<td><blockquote class="blockquote">
<p>0.119</p>
</blockquote></td>
<td>975 3</td>
<td><blockquote class="blockquote">
<p>0.356 0.556</p>
</blockquote></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 35%">
<col style="width: 64%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>p lot_digit</strong>(mnist1_3_tbl[22,])</p>
</blockquote></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>1.0 0.8 0.6 0.4 0.2 0.0</p>
</blockquote></td>
<td><hr>
<hr></td>
</tr>
</tbody>
</table>
<table class="table">
<tbody>
<tr class="odd">
<td style="text-align: left;">0.0 0.2 0.4 0.6 0.8 1.0</td>
</tr>
</tbody>
</table>
<hr>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>plot_digit</strong>(mnist1_3_tbl[975,])</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>10</p>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 25%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>1.0 0.8 0.6 0.4 0.2 0.0</p>
</blockquote></th>
<th><hr>
<hr></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>0.0</td>
<td>0.2</td>
<td>0.4</td>
<td>0.6</td>
<td>0.8</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Code Description</strong></p>
<p>Here we filtered the misclassified digits and selected two of them. We picked id 22 and id 975 as our two misclassified digits. For 22 the value of prop1 was .458 and the value of prop2 was .444. For 975 the value of prop1 was .356 and the value of prop2 was .556. The digits were misclassfied because the proportions were in the decision boundary of the opposite digit. They also were close to the decision boundary. The model gives the probability of our first digit being a 3 a value of 62%. The second digit has a probability of being a 3 of 88%. Looking at the digits, we observed that they were very oddly shaped and did not look like a typical number.</p>
<p><strong>Changing things up</strong></p>
</blockquote>
<table class="table">
<colgroup>
<col style="width: 62%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>mnis t_6tbl&lt;-<strong>read_csv</strong>(“~/Mscs_3 41_F24/Class/Data/mnist.csv.gz”) <strong>|&gt;</strong></p>
<p><strong>filter</strong>(digit<strong>==</strong>6)<strong>|&gt;</strong><br>
<strong>mut ate</strong>(digit=<strong>as.factor</strong>(digit)) <strong>|&gt;</strong><br>
<strong>slice_head</strong>(n=500)<br>
mnist1_3_6_tbl &lt;-mnist_6tbl<strong>%&gt;%</strong><br>
<strong>full_join</strong>(mnist1_3_tbl)</p>
</blockquote></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>write_csv</strong>(mnist1_3_6_tbl,</td>
<td><blockquote class="blockquote">
<p>“~/Mscs_341_F 24/Project/B_1/mnist1_3_6.csv”)</p>
</blockquote></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>new_features_tbl &lt;- mnist1_3_6_tbl<strong>|&gt;</strong><br>
<strong>rowwise</strong>()<strong>|&gt;</strong><br>
<strong>mutate</strong>(</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>11</p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>prop1 = <strong>calc_prop</strong>(region1,<strong>c_across</strong>(V1<strong>:</strong>V784)), prop2 = <strong>calc_prop</strong>(region2,<strong>c_across</strong>(V1<strong>:</strong>V784))) <strong>|&gt; ungroup</strong>()<strong>|&gt;</strong><br>
<strong>mutate</strong>(id = <strong>row_number</strong>())<strong>%&gt;%</strong><br>
<strong>select</strong>(id, digit,prop1, prop2)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>write_csv</strong>(new_features_tbl, “~/Mscs_341_F24/Project/B_1/mnist1_3_6.features.csv”)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>set.seed</strong>(12345)<br>
feature_6_split &lt;- <strong>initial_split</strong>(new_features_tbl, prop = .8) feature_6_train &lt;- <strong>training</strong>(feature_6_split)<br>
feature_6_test &lt;- <strong>testing</strong>(feature_6_split)</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 64%">
<col style="width: 9%">
<col style="width: 14%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>new_log istical_spec&lt;- <strong>multinom_r eg</strong>()<strong>%&gt;%</strong><br>
<strong>s et_engine</strong>(“n net”)<strong>%&gt;%</strong><br>
<strong>s et_mode</strong>(“cla ssification”)<br>
new_recipe &lt;- <strong>recipe</strong> (digit<strong>~</strong>p rop1<strong>+</strong>prop2, fe ature_6_train)</p>
<p>workflow_log&lt;- <strong>workfl ow</strong>()<strong>%&gt;%</strong><br>
**add _recipe<strong>(new_r ecipe)</strong>%&gt;%<strong><br>
</strong>add _model**(new_lo gistical_spec)<br>
new <em>logistical_fit &lt;- <strong>fit</strong></em> <strong>(workflow_log, fe ature_6_train) augment</strong>(new logistical_fit, feature_6<br>
_test)<strong>%&gt;%</strong><br>
<strong>ac curacy</strong>(digit, .pred_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>## # A tibble: 1 x 3</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>.metric</td>
<td><blockquote class="blockquote">
<p>.estimator .estimate</p>
</blockquote></td>
<td></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;chr&gt;</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>&lt;dbl&gt;</p>
</blockquote></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>## 1 accuracy multiclass</p>
</blockquote></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>0.74</p>
</blockquote></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 63%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>augment</strong> (new_logi stical_fit, fe ature_6_te st)<strong>%&gt;%</strong> <strong>conf_m at</strong>(digit, . pred_class)</p>
</blockquote></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>Truth</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
<p>Prediction 6 1</p>
<p>## 6 68 27</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
<td><blockquote class="blockquote">
<p>3<br>
1</p>
</blockquote></td>
</tr>
<tr class="odd">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td><blockquote class="blockquote">
<p>1 28 63 11</p>
</blockquote></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><blockquote class="blockquote">
<p>##</p>
</blockquote></td>
<td>3</td>
<td>7</td>
<td><blockquote class="blockquote">
<p>4 91</p>
</blockquote></td>
<td></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p><strong>augment</strong>(new_logistical_fit, prop_grid)<strong>%&gt;%</strong><br>
<strong>ggplot</strong>(<strong>aes</strong>(x = prop1, y = prop2, fill = .pred_class))<strong>+ geom_raster</strong>()</p>
</blockquote></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>
<p>12</p>
<table class="table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><blockquote class="blockquote">
<p>1.00</p>
</blockquote>
<hr>
<hr></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
</tr>
</tbody>
</table>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Mary Kreklow, 2024<br> All content licensed under <i class="bi-badge-cc"></i> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">(CC BY-NC-SA 4.0)</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Site built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>